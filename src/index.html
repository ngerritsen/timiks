<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <meta
      name="description"
      content="A cube timer made for speedsolvers. Stats, scramble previews and an archive in an elegant, mobile friendly interface."
    />
    <meta
      name="keywords"
      content="timiks, timer, cube timer, rubiks cube timer, speedsolving, speedsolve timer"
    />
    <meta name="theme-color" content="#000" />

    <!-- Apple metadata -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Timiks" />

    <link
      rel="apple-touch-icon"
      sizes="58x58"
      href="images/apple-icon-58.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="images/apple-icon-76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="80x80"
      href="images/apple-icon-80.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="images/apple-icon-120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="images/apple-icon-152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="images/apple-icon-180.png"
    />
    <link rel="apple-touch-icon" href="images/apple-icon-180.png" />

    <link
      href="images/iphone5_splash.png"
      media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image"
    />
    <link
      href="images/iphone6_splash.png"
      media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image"
    />
    <link
      href="images/iphoneplus_splash.png"
      media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)"
      rel="apple-touch-startup-image"
    />
    <link
      href="images/iphonex_splash.png"
      media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)"
      rel="apple-touch-startup-image"
    />
    <link
      href="images/iphonexr_splash.png"
      media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image"
    />
    <link
      href="images/iphonexsmax_splash.png"
      media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)"
      rel="apple-touch-startup-image"
    />
    <link
      href="images/ipad_splash.png"
      media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image"
    />
    <link
      href="images/ipadpro1_splash.png"
      media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image"
    />
    <link
      href="images/ipadpro3_splash.png"
      media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image"
    />
    <link
      href="images/ipadpro2_splash.png"
      media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image"
    />

    <link rel="shortcut icon" href="/favicon.png" />

    <link rel="manifest" href="/timiks.webmanifest" />

    <link rel="preload" href="/fonts.css" as="style" />

    <% htmlWebpackPlugin.files.js.forEach((file) => { %>
    <link rel="preload" href="<%= file %>" as="script" />
    <% }) %>

    <link
      rel="preload"
      href="https://www.googletagmanager.com/gtag/js?id=UA-39696629-4"
      as="script"
    />

    <title>Timiks - Cube timer made for speedsolvers</title>

    <%= `
    <style>
      ${require('uglifycss').processFiles(['./src/critical/style.css'])}
    </style>
    ` %>
  </head>
  <body data-build-number="<%= htmlWebpackPlugin.options.buildNumber %>">
    <!--[if lt IE 11]>
      <div class="no-ie-box">
        Sorry, but I do not support your browser.
        <a href="http://browsehappy.com/" target="_blank"
          >Click here to upgrade.</a
        >
      </div>
    <![endif]-->
    <div id="app-root">
      <div class="container">
        <header>
          <h1>Timiks</h1>
        </header>
        <main>
          <svg
            aria-hidden="true"
            class="loader"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              fill="currentColor"
              d="M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"
            ></path>
          </svg>
        </main>
      </div>
    </div>

    <div id="modal-root"></div>
    <div id="notification-root"></div>
    <div id="full-screen-mask-root"></div>

    <footer>
      <span class="build-number"
        >Build <%= htmlWebpackPlugin.options.buildNumber %></span
      >
      <span class="separator">|</span>
      <a href="https://gitlab.com/ngerritsen/timiks/issues" target="_blank"
        >Report bugs or suggestions</a
      >
      <span class="separator">|</span>
      <a href="#" data-reload>Reload</a>
    </footer>

    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker.register("/serviceWorker.js");
        });
      }
    </script>

    <script>
      <%= require('fs').readFileSync('./src/critical/script.js') %>
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-39696629-4"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-39696629-4");
    </script>

    <script async>
      document.querySelector("head").innerHTML +=
        '<link rel="stylesheet" type="text/css" href="/fonts.css" />';
    </script>
  </body>
</html>
